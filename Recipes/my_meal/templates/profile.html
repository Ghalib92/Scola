{% extends 'base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/main.css' %}">

<div class="container-fluid mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            
            <!-- Profile Card -->
            <div class="card profile-card">
                <h3 class="card-title text-center">Current Profile</h3>

                <div class="text-center profile-img-container">
                    {% if user_profile and user_profile.profile_pic %}
                        <img src="{{ user_profile.profile_pic.url }}" alt="Profile Picture" class="profile-img">
                    {% else %}
                        <p class="text-muted">No profile picture uploaded.</p>
                    {% endif %}
                </div>

                <p class="text-center mt-3"><strong>Diet Preference:</strong> {{ user_profile.diet_preference|default:"Not specified" }}</p>
                <p class="text-center"><strong>Gender:</strong> {{ user_profile.gender|default:"Not specified" }}</p>
                <p class="text-center"><strong>Bio:</strong> {{ user_profile.bio|default:"No bio provided" }}</p>
                <p class="text-center"><strong>Date of Birth:</strong> {{ user_profile.date_of_birth|default:"Not specified" }}</p>
                <p class="text-center"><strong>Location:</strong> {{ user_profile.location|default:"Not specified" }}</p>
                <p class="text-center"><strong>Website:</strong> <a href="{{ user_profile.website }}" target="_blank">{{ user_profile.website }}</a></p>
                <p class="text-center"><strong>Phone:</strong> {{ user_profile.phone_number|default:"Not specified" }}</p>
            </div>

            <!-- Update Profile Form -->
            <div class="card profile-card mt-4">
                <h2 class="text-center text-primary">Update Profile</h2>

                <form method="POST" enctype="multipart/form-data" class="profile-form">
                    {% csrf_token %}

                    <div class="form-group">
                        <label><strong>Profile Picture</strong></label>
                        {{ form.profile_pic }}
                    </div>

                    <div class="form-group">
                        <label><strong>Diet Preference</strong></label>
                        {{ form.diet_preference }}
                    </div>

                    <div class="form-group">
                        <label><strong>Gender</strong></label>
                        {{ form.gender }}
                    </div>

                    <div class="form-group">
                        <label><strong>Bio</strong></label>
                        {{ form.bio }}
                    </div>

                    <div class="form-group">
                        <label><strong>Date of Birth</strong></label>
                        {{ form.date_of_birth }}
                    </div>

                    <div class="form-group">
                        <label><strong>Location</strong></label>
                        {{ form.location }}
                    </div>

                    <div class="form-group">
                        <label><strong>Website</strong></label>
                        {{ form.website }}
                    </div>

                    <div class="form-group">
                        <label><strong>Phone Number</strong></label>
                        {{ form.phone_number }}
                    </div>

                    <button type="submit" class="btn btn-danger w-100">Update Profile</button>
                </form>
            </div>

            <!-- Back Button -->
            <div class="text-center mt-5 mb-5">
                <a href="{% url 'home_page' %}" class="btn btn-outline-secondary back-btn">
                    <i class="fas fa-arrow-left"></i> Back
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
